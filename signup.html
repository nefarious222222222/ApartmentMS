<span style="font-family: verdana, geneva, sans-serif;"><!DOCTYPE html>
    <html lang="en">
        <head>
            <title>DRCM AMS</title>
            <link rel="stylesheet" href="public/css/sign.css" />
            <link
                href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap"
                rel="stylesheet"
            />
            <script src="public/js/redirect.js"></script>
        </head>
        <body>
            <div class="signupBox">
                <div class="signIntro">
                    <div class="signLogo">
                        <img class="drcmLogo" src="public/images/Logo.png" alt="DRCM Logo" onclick="goBack()"/>
                    </div>

                    <h1>
                        DRCM Apartment<br>Management System            
                    </h1>
                </div>

                <Div class="typeSign">
                    Sign Up
                </Div> 

                <form id="signUpForm" method="post" action="public/php/account.php">
                    <label>
                        Username:
                    </label>
                    <input type="text" placeholder="" name="username" id="username" required/>

                    <label>
                        Password:
                    </label>
                    <input type="password" placeholder="" name="password" id="password" required/>
                    
                    <label>
                        Confirm Password:
                    </label>
                    <input type="password" placeholder="" name="confirmPass" id="confirmPass" required/>

                    <label>
                        Email Address:
                    </label>
                    <input type="text" placeholder="" name="emailAdd" id="emailAdd" required/>

                    <label>
                        Contact Number:
                    </label>
                    <input type="number" placeholder="" class="no-spinner" name="contactNum" id="contactNum" required/>

                    <input type="submit" value="Create Account" id="submitBtn"/>
                </form>

                <p class="questionAcc1">
                    Already have an account? <a href="signin.html">Login here</a>
                </p>
            </div>
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <script>
                $(document).ready(function() {
                    $("#signUpForm").on("submit", function(event) {
                        event.preventDefault(); // Prevent the form from redirecting to the PHP file

                        // Retrieve form data
                        var user = $("#username").val();
                        var pass = $("#password").val();
                        var confirm = $("#confirmPass").val();
                        var email = $("#emailAdd").val();
                        var contact = $("#contactNum").val();

                        // Submit form data using AJAX
                        $.ajax({
                            url: "public/php/account.php",
                            type: "POST",
                            data: {
                                username: user,
                                password: pass,
                                confirmPass: confirm,
                                emailAdd: email,
                                contactNum: contact
                            },
                            success: function(response) {
                                console.log(response);
                                window.location.href = "signin.html"
                            },
                            error: function(xhr, status, error) {
                                console.log("Error: " + error);
                            }
                        });
                    });
                });
            </script>
        </body>
    </html>
</span>